{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACtB,0RACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,2KAAgB,MAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACI,6LAAC;QACG,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/PublicHeader.tsx"],"sourcesContent":["import Link from 'next/link'\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\nexport default function PublicHeader() {\r\n    return (\r\n        <header className=\"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex justify-between h-16 items-center\">\r\n                    <div className=\"flex items-center\">\r\n                        <Link href=\"/\" className=\"flex-shrink-0 flex items-center\">\r\n                            <span className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">RPMS</span>\r\n                        </Link>\r\n                        <nav className=\"hidden md:ml-8 md:flex md:space-x-8\">\r\n                            <Link href=\"/\" className=\"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                                Home\r\n                            </Link>\r\n                            <Link href=\"/#about\" className=\"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                                About\r\n                            </Link>\r\n                            <Link href=\"/#contact\" className=\"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                                Contact\r\n                            </Link>\r\n                        </nav>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-4\">\r\n                        <Link href=\"/login\">\r\n                            <Button variant=\"ghost\">Log In</Button>\r\n                        </Link>\r\n                        <Link href=\"/submit\">\r\n                            <Button>Submit Paper</Button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACpB,qBACI,6LAAC;QAAO,WAAU;kBACd,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,0KAAI;gCAAC,MAAK;gCAAI,WAAU;0CACrB,cAAA,6LAAC;oCAAK,WAAU;8CAAsD;;;;;;;;;;;0CAE1E,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,0KAAI;wCAAC,MAAK;wCAAI,WAAU;kDAAsH;;;;;;kDAG/I,6LAAC,0KAAI;wCAAC,MAAK;wCAAU,WAAU;kDAAsH;;;;;;kDAGrJ,6LAAC,0KAAI;wCAAC,MAAK;wCAAY,WAAU;kDAAsH;;;;;;;;;;;;;;;;;;kCAK/J,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,0KAAI;gCAAC,MAAK;0CACP,cAAA,6LAAC,wIAAM;oCAAC,SAAQ;8CAAQ;;;;;;;;;;;0CAE5B,6LAAC,0KAAI;gCAAC,MAAK;0CACP,cAAA,6LAAC,wIAAM;8CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC;KAjCwB"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/Header.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { User, Notification, getUnreadCount, getNotifications, markNotificationRead } from '@/lib/api'\r\nimport { User as UserIcon, Bell } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Image from 'next/image'\r\n\r\ninterface HeaderProps {\r\n    user: User\r\n    title: string\r\n    onLogout: () => void\r\n}\r\n\r\nexport default function Header({ user, title, onLogout }: HeaderProps) {\r\n    const router = useRouter()\r\n    const [unreadCount, setUnreadCount] = useState(0)\r\n    const [notifications, setNotifications] = useState<Notification[]>([])\r\n    const [showNotifications, setShowNotifications] = useState(false)\r\n    const notificationRef = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        // Fetch unread count and notifications initially\r\n        fetchUnreadCount()\r\n        fetchNotifications()\r\n\r\n        // Poll every 10 seconds\r\n        const interval = setInterval(() => {\r\n            fetchUnreadCount()\r\n            fetchNotifications()\r\n        }, 10000)\r\n        return () => clearInterval(interval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        // Close dropdown when clicking outside\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (notificationRef.current && !notificationRef.current.contains(event.target as Node)) {\r\n                setShowNotifications(false)\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside)\r\n        return () => document.removeEventListener('mousedown', handleClickOutside)\r\n    }, [])\r\n\r\n    const fetchUnreadCount = async () => {\r\n        try {\r\n            const result = await getUnreadCount()\r\n            if (result.success && result.data) {\r\n                setUnreadCount(result.data.count)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch unread count:', error)\r\n        }\r\n    }\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const result = await getNotifications()\r\n            if (result.success && result.data) {\r\n                setNotifications(result.data)\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications:', error)\r\n        }\r\n    }\r\n\r\n    const handleNotificationClick = async (notification: Notification) => {\r\n        // Mark as read\r\n        if (!notification.is_read) {\r\n            await markNotificationRead(notification.id)\r\n            fetchNotifications()\r\n        }\r\n\r\n        // Navigate to home page (which shows role-specific dashboard)\r\n        if (notification.paper_id) {\r\n            setShowNotifications(false)\r\n\r\n            // If we are already on the home page, manually set the hash to trigger scrolling\r\n            if (window.location.pathname === '/') {\r\n                window.location.hash = `paper-${notification.paper_id}`\r\n            } else {\r\n                // Otherwise navigate to the page with the hash\r\n                router.push(`/#paper-${notification.paper_id}`)\r\n            }\r\n        }\r\n    }\r\n\r\n    const unreadNotificationCount = notifications.filter(n => !n.is_read).length\r\n\r\n    return (\r\n        <header className=\"bg-white dark:bg-gray-800 shadow sticky top-0 z-50\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">{title}</h1>\r\n                <div className=\"flex items-center space-x-4\">\r\n                    <button\r\n                        onClick={() => router.push('/chat')}\r\n                        className=\"relative text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\r\n                        title=\"Messages\"\r\n                    >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-message-square\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" /></svg>\r\n                        {unreadCount > 0 && (\r\n                            <span className=\"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\r\n                                {unreadCount > 9 ? '9+' : unreadCount}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <div ref={notificationRef} className=\"relative\">\r\n                        <button\r\n                            onClick={() => setShowNotifications(!showNotifications)}\r\n                            className=\"relative text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\r\n                            title=\"Notifications\"\r\n                        >\r\n                            <Bell className=\"w-6 h-6\" />\r\n                            {unreadNotificationCount > 0 && (\r\n                                <span className=\"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center\">\r\n                                    {unreadNotificationCount > 9 ? '9+' : unreadNotificationCount}\r\n                                </span>\r\n                            )}\r\n                        </button>\r\n                        {showNotifications && (\r\n                            <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 max-h-96 overflow-y-auto\">\r\n                                <div className=\"p-4 border-b dark:border-gray-700\">\r\n                                    <h3 className=\"font-semibold text-gray-900 dark:text-white\">Notifications</h3>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                                        {unreadNotificationCount} unread, {notifications.length - unreadNotificationCount} read\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"divide-y dark:divide-gray-700\">\r\n                                    {notifications.length === 0 ? (\r\n                                        <div className=\"p-4 text-center text-gray-500 dark:text-gray-400 text-sm\">\r\n                                            No notifications\r\n                                        </div>\r\n                                    ) : (\r\n                                        notifications.map(notification => (\r\n                                            <div\r\n                                                key={notification.id}\r\n                                                onClick={() => handleNotificationClick(notification)}\r\n                                                className={`p-3 transition-colors ${notification.paper_id ? 'cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700' : ''\r\n                                                    } ${!notification.is_read ? 'bg-yellow-50 dark:bg-yellow-900/20' : ''\r\n                                                    }`}\r\n                                            >\r\n                                                <p className=\"text-sm text-gray-900 dark:text-gray-100\">{notification.message}</p>\r\n                                                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                                                    {new Date(notification.created_at).toLocaleString()}\r\n                                                </p>\r\n                                            </div>\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <button\r\n                        onClick={() => router.push('/profile')}\r\n                        className=\"flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\r\n                    >\r\n                        <div className=\"h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-300 dark:border-gray-600\">\r\n                            {user.avatar ? (\r\n                                <Image\r\n                                    src={user.avatar}\r\n                                    alt={user.name}\r\n                                    width={32}\r\n                                    height={32}\r\n                                    className=\"h-full w-full object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <UserIcon className=\"h-5 w-5 text-gray-500\" />\r\n                            )}\r\n                        </div>\r\n                        <span className=\"font-medium\">{user.name || 'User'}</span>\r\n                    </button>\r\n                    <button\r\n                        onClick={onLogout}\r\n                        className=\"text-sm text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 font-medium\"\r\n                    >\r\n                        Sign out\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/AdminPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Users, MessageSquare, Send } from 'lucide-react'\r\nimport { User, Paper, Review, getPapers, getReviews, updatePaper, sendMessage } from '@/lib/api'\r\nimport Header from './Header'\r\n\r\ninterface AdminPanelProps {\r\n  user: User\r\n  onLogout: () => void\r\n}\r\n\r\ninterface PaperWithReviews extends Paper {\r\n  reviews: Review[]\r\n}\r\n\r\nexport default function AdminPanel({ user, onLogout }: AdminPanelProps) {\r\n  const [papers, setPapers] = useState<PaperWithReviews[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [editorContactForm, setEditorContactForm] = useState({ paperId: '', message: '' })\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n    const interval = setInterval(fetchData, 5000) // Poll every 5 seconds\r\n    return () => clearInterval(interval)\r\n  }, [])\r\n\r\n  // Handle hash navigation for deep linking\r\n  useEffect(() => {\r\n    const handleHashChange = () => {\r\n      const hash = window.location.hash\r\n      if (hash && hash.startsWith('#paper-')) {\r\n        const paperId = hash.replace('#paper-', '')\r\n        const element = document.getElementById(`paper-${paperId}`)\r\n        if (element) {\r\n          element.scrollIntoView({ behavior: 'smooth', block: 'center' })\r\n          element.classList.add('ring-2', 'ring-red-500')\r\n          setTimeout(() => element.classList.remove('ring-2', 'ring-red-500'), 3000)\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check on mount and when papers load\r\n    if (!loading && papers.length > 0) {\r\n      handleHashChange()\r\n    }\r\n\r\n    window.addEventListener('hashchange', handleHashChange)\r\n    return () => window.removeEventListener('hashchange', handleHashChange)\r\n  }, [loading, papers])\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const papersResult = await getPapers()\r\n      const reviewsResult = await getReviews()\r\n\r\n      if (papersResult.success && papersResult.data) {\r\n        // Get papers that are ready for admin approval (have reviews)\r\n        const papersWithReviews = papersResult.data.map((paper: Paper) => {\r\n          const paperReviews = reviewsResult.data?.filter((review: Review) =>\r\n            review.paper_id === paper.id\r\n          ) || []\r\n\r\n          return {\r\n            ...paper,\r\n            reviews: paperReviews\r\n          }\r\n        }).filter((paper: PaperWithReviews) =>\r\n          (paper.status === 'submitted' || paper.status === 'under_review' || paper.status === 'recommended_for_publication')\r\n        )\r\n\r\n        setPapers(papersWithReviews)\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Failed to fetch data:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handlePublicationDecision = async (paperId: string, publish: boolean) => {\r\n    try {\r\n      const result = await updatePaper(paperId, {\r\n        status: publish ? 'published' : 'rejected'\r\n      })\r\n\r\n      if (result.success) {\r\n        setPapers(papers.filter(paper => paper.id !== paperId))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update paper status:', error)\r\n    }\r\n  }\r\n\r\n  const getAverageScore = (reviews: Review[]) => {\r\n    if (reviews.length === 0) return 0\r\n    const sum = reviews.reduce((acc, review) => acc + review.rating, 0)\r\n    return (sum / reviews.length).toFixed(1)\r\n  }\r\n\r\n  const getRecommendationSummary = (reviews: Review[]) => {\r\n    const counts = reviews.reduce((acc, review) => {\r\n      acc[review.recommendation] = (acc[review.recommendation] || 0) + 1\r\n      return acc\r\n    }, {} as Record<string, number>)\r\n\r\n    return Object.entries(counts)\r\n      .map(([rec, count]) => `${count} ${rec.replace(/_/g, ' ')}`)\r\n      .join(', ')\r\n  }\r\n\r\n  const contactEditor = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!editorContactForm.message) return\r\n\r\n    try {\r\n      let messageContent = `Admin Message: ${editorContactForm.message}`\r\n\r\n      // If a paper is selected, include paper info and send to the editor who reviewed it\r\n      if (editorContactForm.paperId) {\r\n        const paper = papers.find(p => p.id === editorContactForm.paperId)\r\n        if (paper && paper.reviews.length > 0) {\r\n          const editorId = paper.reviews[0].reviewer_id\r\n          messageContent = `Admin Message regarding \"${paper.title}\": ${editorContactForm.message}`\r\n\r\n          const result = await sendMessage(editorId, messageContent)\r\n\r\n          if (result.success) {\r\n            setEditorContactForm({ paperId: '', message: '' })\r\n            alert('Message sent to editor successfully!')\r\n            return\r\n          }\r\n        }\r\n      }\r\n\r\n      alert('Please select a paper to contact its editor')\r\n    } catch (error) {\r\n      console.error('Failed to contact editor:', error)\r\n      alert('Failed to send message to editor')\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">Loading admin panel...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <Header user={user} title=\"Admin Panel\" onLogout={onLogout} />\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600\">System Overview</h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-900/50\">\r\n                    <h3 className=\"font-medium text-blue-900 dark:text-blue-100\">Total Papers</h3>\r\n                    <p className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">{papers.length}</p>\r\n                    <p className=\"text-sm text-blue-700 dark:text-blue-300\">Ready for approval</p>\r\n                  </div>\r\n                  <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-900/50\">\r\n                    <h3 className=\"font-medium text-green-900 dark:text-green-100\">Avg Review Score</h3>\r\n                    <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\r\n                      {papers.length > 0 ? getAverageScore(papers.flatMap(p => p.reviews)) : '0'}\r\n                    </p>\r\n                    <p className=\"text-sm text-green-700 dark:text-green-300\">Across all papers</p>\r\n                  </div>\r\n                  <div className=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-900/50\">\r\n                    <h3 className=\"font-medium text-purple-900 dark:text-purple-100\">Total Reviews</h3>\r\n                    <p className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\r\n                      {papers.reduce((acc, paper) => acc + paper.reviews.length, 0)}\r\n                    </p>\r\n                    <p className=\"text-sm text-purple-700 dark:text-purple-300\">Completed reviews</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600\">Paper Approval</h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                {papers.length === 0 ? (\r\n                  <div className=\"text-center py-8\">\r\n                    <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">No papers pending approval</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-4\">\r\n                    {papers.map(paper => (\r\n                      <div key={paper.id} id={`paper-${paper.id}`} className=\"border dark:border-gray-700 rounded-lg p-4 transition-all duration-300\">\r\n                        <div className=\"flex justify-between items-start mb-3\">\r\n                          <div>\r\n                            <h3 className=\"font-semibold dark:text-white\">{paper.title}</h3>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">Author: {paper.author_name || 'Unknown'}</p>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400\">Submitted: {new Date(paper.created_at).toLocaleDateString()}</p>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                              {paper.reviews.length} Review{paper.reviews.length !== 1 ? 's' : ''}\r\n                            </span>\r\n                            <p className=\"text-lg font-bold text-blue-600\">\r\n                              {paper.reviews.length > 0 ? `${getAverageScore(paper.reviews)}/5` : 'No Rating'}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {paper.abstract && (\r\n                          <p className=\"text-sm text-gray-700 dark:text-gray-300 mb-3 line-clamp-2\">{paper.abstract}</p>\r\n                        )}\r\n\r\n                        <div className=\"bg-gray-50 dark:bg-gray-700 p-3 rounded mb-3\">\r\n                          <p className=\"text-sm font-medium mb-2 dark:text-white\">Review Summary:</p>\r\n                          <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                            {paper.reviews.length > 0 ? getRecommendationSummary(paper.reviews) : 'No reviews submitted yet.'}\r\n                          </p>\r\n                          <div className=\"mt-2 space-y-1\">\r\n                            {paper.reviews.map((review, index) => (\r\n                              <div key={review.id} className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                                <span className=\"font-medium\">Reviewer {index + 1}:</span> {review.comments ? review.comments.substring(0, 100) + '...' : ''}\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex space-x-2\">\r\n                          <button\r\n                            onClick={() => handlePublicationDecision(paper.id, true)}\r\n                            className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\"\r\n                          >\r\n                            Publish\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handlePublicationDecision(paper.id, false)}\r\n                            className=\"border border-red-600 text-red-600 px-4 py-2 rounded-md hover:bg-red-50 transition-colors\"\r\n                          >\r\n                            Reject\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contact Editor Section */}\r\n          </div>\r\n\r\n          <div className=\"space-y-6 sticky top-6\">\r\n            {/* Contact Editor Section */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600 flex items-center\">\r\n                  <MessageSquare className=\"w-5 h-5 mr-2\" />\r\n                  Contact Editor\r\n                </h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <form onSubmit={contactEditor} className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Select Paper (Required)\r\n                    </label>\r\n                    <select\r\n                      value={editorContactForm.paperId}\r\n                      onChange={(e) => setEditorContactForm({ ...editorContactForm, paperId: e.target.value })}\r\n                      className=\"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Choose a paper...</option>\r\n                      {papers.map(paper => (\r\n                        <option key={paper.id} value={paper.id}>\r\n                          {paper.title}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                      Message will be sent to the editor who reviewed this paper\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Message to Editor\r\n                    </label>\r\n                    <textarea\r\n                      value={editorContactForm.message}\r\n                      onChange={(e) => setEditorContactForm({ ...editorContactForm, message: e.target.value })}\r\n                      rows={4}\r\n                      className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                      placeholder=\"Enter your message to the editor...\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors flex items-center justify-center\"\r\n                  >\r\n                    <Send className=\"w-4 h-4 mr-2\" />\r\n                    Send to Editor\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/EditorPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { FileText, Download, Upload, Edit, Clock, X, MessageSquare, Send } from 'lucide-react'\r\nimport { User, Paper, Review, getPapers, getReviews, createReview, updatePaper, uploadFile, recommendPaperForPublication, sendMessage, getAdminUser, createNotification } from '@/lib/api'\r\nimport Header from './Header'\r\n\r\ninterface EditorPanelProps {\r\n  user: User\r\n  onLogout: () => void\r\n}\r\n\r\nexport default function EditorPanel({ user, onLogout }: EditorPanelProps) {\r\n  const [papers, setPapers] = useState<Paper[]>([])\r\n  const [reviews, setReviews] = useState<Review[]>([])\r\n  const [selectedPaper, setSelectedPaper] = useState<Paper | null>(null)\r\n  const [editingPaper, setEditingPaper] = useState<Paper | null>(null)\r\n  const [editForm, setEditForm] = useState({ title: '', abstract: '', file: null as File | null })\r\n  const [reviewData, setReviewData] = useState({ rating: 5, comments: '', recommendation: 'accept' as const })\r\n  const [feedbackForm, setFeedbackForm] = useState({ paperId: '', message: '' })\r\n  const [adminContactForm, setAdminContactForm] = useState({ paperId: '', message: '' })\r\n  const [adminUserId, setAdminUserId] = useState<string | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n    fetchAdminUser()\r\n  }, [])\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const papersResult = await getPapers()\r\n      const reviewsResult = await getReviews()\r\n\r\n      if (papersResult.success && papersResult.data) {\r\n        // Filter submitted papers that need review\r\n        const submittedPapers = papersResult.data.filter((paper: Paper) =>\r\n          paper.status === 'submitted' || paper.status === 'under_review'\r\n        )\r\n        setPapers(submittedPapers)\r\n      }\r\n\r\n      if (reviewsResult.success && reviewsResult.data) {\r\n        setReviews(reviewsResult.data)\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      console.error('Failed to fetch data:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n  const fetchAdminUser = async () => {\r\n    try {\r\n      const result = await getAdminUser()\r\n      if (result.success && result.data) {\r\n        setAdminUserId(result.data.id)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch admin user:', error)\r\n    }\r\n  }\r\n\r\n  const handleSubmitReview = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (selectedPaper && reviewData.rating && reviewData.comments) {\r\n      try {\r\n        const reviewDataSubmit = {\r\n          paper_id: selectedPaper.id,\r\n          reviewer_id: user.id,\r\n          rating: reviewData.rating,\r\n          comments: reviewData.comments,\r\n          recommendation: reviewData.recommendation\r\n        }\r\n\r\n        const result = await createReview(reviewDataSubmit)\r\n        if (result.success) {\r\n          // Update papers list to remove reviewed paper\r\n          setPapers(papers.filter(p => p.id !== selectedPaper.id))\r\n          setSelectedPaper(null)\r\n          setReviewData({ rating: 5, comments: '', recommendation: 'accept' })\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to submit review:', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleEditClick = (paper: Paper) => {\r\n    setEditingPaper(paper)\r\n    setEditForm({ title: paper.title, abstract: paper.abstract || '', file: null })\r\n  }\r\n\r\n  const handleUpdatePaper = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!editingPaper) return\r\n\r\n    try {\r\n      let fileUrl = editingPaper.file_url\r\n      if (editForm.file) {\r\n        const uploadResult = await uploadFile(editForm.file)\r\n        if (uploadResult.success && uploadResult.data) {\r\n          fileUrl = uploadResult.data.url\r\n        }\r\n      }\r\n\r\n      const updates = {\r\n        title: editForm.title,\r\n        abstract: editForm.abstract,\r\n        file_url: fileUrl,\r\n        status: editingPaper.status\r\n      }\r\n\r\n      const result = await updatePaper(editingPaper.id, updates)\r\n      if (result.success && result.data) {\r\n        setPapers(papers.map(p => p.id === editingPaper.id ? result.data! : p))\r\n        setEditingPaper(null)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update paper:', error)\r\n    }\r\n  }\r\n\r\n  const handleRecommendPaper = async (paperId: string) => {\r\n    try {\r\n      const result = await recommendPaperForPublication(paperId)\r\n      if (result.success && result.data) {\r\n        setPapers(papers.map(p => p.id === paperId ? result.data! : p))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to recommend paper:', error)\r\n    }\r\n  }\r\n\r\n  const canRecommendPaper = (paper: Paper) => {\r\n    const paperReviews = reviews.filter(r => r.paper_id === paper.id)\r\n    if (paperReviews.length === 0) return false\r\n    const avgRating = paperReviews.reduce((sum, r) => sum + r.rating, 0) / paperReviews.length\r\n    return avgRating >= 4 && paper.status !== 'recommended_for_publication' && paper.status !== 'published'\r\n  }\r\n\r\n  const sendFeedbackToAuthor = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!feedbackForm.paperId || !feedbackForm.message) return\r\n\r\n    try {\r\n      const paper = papers.find(p => p.id === feedbackForm.paperId)\r\n      if (!paper) return\r\n\r\n      await sendMessage(\r\n        paper.author_id,\r\n        `Feedback on \"${paper.title}\": ${feedbackForm.message}`\r\n      )\r\n\r\n      setFeedbackForm({ paperId: '', message: '' })\r\n      alert('Feedback sent to author successfully!')\r\n    } catch (error) {\r\n      console.error('Failed to send feedback:', error)\r\n      alert('Failed to send feedback')\r\n    }\r\n  }\r\n\r\n  const contactAdmin = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!adminContactForm.message) return\r\n\r\n    try {\r\n      let targetAdminId = adminUserId\r\n\r\n      // If admin ID is missing, try to fetch it again\r\n      if (!targetAdminId) {\r\n        const adminResult = await getAdminUser()\r\n        if (adminResult.success && adminResult.data) {\r\n          targetAdminId = adminResult.data.id\r\n          setAdminUserId(targetAdminId)\r\n        } else {\r\n          alert('Admin user not available. Please try again later.')\r\n          return\r\n        }\r\n      }\r\n\r\n      let messageContent = `Editor Message: ${adminContactForm.message}`\r\n      let paperId: string | undefined = undefined\r\n\r\n      // If a paper is selected, include paper info\r\n      if (adminContactForm.paperId) {\r\n        const paper = papers.find(p => p.id === adminContactForm.paperId)\r\n        if (paper) {\r\n          messageContent = `Editor Message regarding \"${paper.title}\": ${adminContactForm.message}`\r\n          paperId = paper.id\r\n        }\r\n      }\r\n\r\n      // Create notification for admin\r\n      const result = await createNotification(\r\n        targetAdminId,\r\n        messageContent,\r\n        paperId\r\n      )\r\n\r\n      if (result.success) {\r\n        setAdminContactForm({ paperId: '', message: '' })\r\n        alert('Notification sent to admin successfully!')\r\n      } else {\r\n        alert('Failed to send notification: ' + (result.error || 'Unknown error'))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to contact admin:', error)\r\n      alert('Failed to send notification to admin')\r\n    }\r\n  }\r\n\r\n  const getPaperStatus = (paper: Paper) => {\r\n    const existingReview = reviews.find(r => r.paper_id === paper.id && r.reviewer_id === user.id)\r\n    return existingReview ? 'reviewed' : 'pending'\r\n  }\r\n\r\n  const getExistingReview = (paper: Paper) => {\r\n    return reviews.find(r => r.paper_id === paper.id && r.reviewer_id === user.id)\r\n  }\r\n\r\n  const getRecommendationColor = (recommendation: string) => {\r\n    switch (recommendation) {\r\n      case 'accept': return 'bg-green-100 text-green-800'\r\n      case 'minor_revision': return 'bg-yellow-100 text-yellow-800'\r\n      case 'major_revision': return 'bg-orange-100 text-orange-800'\r\n      case 'reject': return 'bg-red-100 text-red-800'\r\n      default: return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  const formatRecommendation = (recommendation: string) => {\r\n    return recommendation.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">Loading editor panel...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <Header user={user} title=\"Editor Panel\" onLogout={onLogout} />\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600\">Papers for Review</h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                {papers.length === 0 ? (\r\n                  <div className=\"text-center py-8\">\r\n                    <FileText className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <p className=\"text-gray-600 dark:text-gray-400\">No papers assigned for review</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-4\">\r\n                    {papers.map(paper => {\r\n                      const status = getPaperStatus(paper)\r\n                      const existingReview = getExistingReview(paper)\r\n\r\n                      return (\r\n                        <div key={paper.id} className=\"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors\">\r\n                          <div className=\"flex justify-between items-start mb-2\">\r\n                            <div>\r\n                              <h3 className=\"font-semibold dark:text-white\">{paper.title}</h3>\r\n                              <p className=\"text-sm text-gray-600 dark:text-gray-400\">Author: {paper.author_name || 'Unknown'}</p>\r\n                              <p className=\"text-sm text-gray-600 dark:text-gray-400\">Email: {paper.author_email || 'Unknown'}</p>\r\n                              <p className=\"text-sm text-gray-600 dark:text-gray-400\">Submitted: {new Date(paper.created_at).toLocaleDateString()}</p>\r\n                              {paper.abstract && (\r\n                                <p className=\"text-sm text-gray-700 dark:text-gray-300 mt-2 line-clamp-2\">{paper.abstract}</p>\r\n                              )}\r\n                            </div>\r\n                            <span className={`px-3 py-1 rounded-full text-sm ${status === 'reviewed' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\r\n                              }`}>\r\n                              {status === 'reviewed' ? 'Reviewed' : 'Pending'}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {existingReview && (\r\n                            <div className=\"mt-3 p-3 bg-gray-50 dark:bg-gray-700 rounded\">\r\n                              <div className=\"flex justify-between items-start mb-2\">\r\n                                <div>\r\n                                  <p className=\"text-sm font-medium dark:text-white\">Rating: {existingReview.rating}/5</p>\r\n                                  <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1\">{existingReview.comments}</p>\r\n                                </div>\r\n                                <span className={`px-2 py-1 rounded-full text-xs ${getRecommendationColor(existingReview.recommendation)}`}>\r\n                                  {formatRecommendation(existingReview.recommendation)}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {status === 'reviewed' && canRecommendPaper(paper) && (\r\n                            <div className=\"mt-3\">\r\n                              <button\r\n                                onClick={() => handleRecommendPaper(paper.id)}\r\n                                className=\"bg-purple-600 text-white px-3 py-1 rounded-md hover:bg-purple-700 transition-colors text-sm font-medium\"\r\n                              >\r\n                                 Recommend for Publication\r\n                              </button>\r\n                            </div>\r\n                          )}\r\n\r\n                          {status === 'pending' && (\r\n                            <div className=\"mt-3 flex space-x-2\">\r\n                              <button\r\n                                onClick={() => setSelectedPaper(paper)}\r\n                                className=\"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 transition-colors text-sm flex items-center\"\r\n                              >\r\n                                <FileText className=\"w-4 h-4 mr-1\" />\r\n                                Review\r\n                              </button>\r\n                              <button\r\n                                onClick={() => handleEditClick(paper)}\r\n                                className=\"bg-gray-600 text-white px-3 py-1 rounded-md hover:bg-gray-700 transition-colors text-sm flex items-center\"\r\n                              >\r\n                                <Edit className=\"w-4 h-4 mr-1\" />\r\n                                Edit\r\n                              </button>\r\n                              {paper.file_url && (\r\n                                <a\r\n                                  href={paper.file_url}\r\n                                  target=\"_blank\"\r\n                                  rel=\"noopener noreferrer\"\r\n                                  className=\"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors text-sm flex items-center\"\r\n                                >\r\n                                  <Download className=\"w-4 h-4 mr-1\" />\r\n                                  Download\r\n                                </a>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-6 sticky top-24\">\r\n\r\n            {editingPaper && (\r\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n                  <div className=\"p-6 border-b dark:border-gray-700 flex justify-between items-center\">\r\n                    <h2 className=\"text-xl font-semibold text-red-600\">Edit Paper</h2>\r\n                    <button onClick={() => setEditingPaper(null)} className=\"text-gray-500 hover:text-gray-700\">\r\n                      <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"p-6\">\r\n                    <form onSubmit={handleUpdatePaper} className=\"space-y-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Title</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editForm.title}\r\n                          onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\r\n                          className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Abstract</label>\r\n                        <textarea\r\n                          value={editForm.abstract}\r\n                          onChange={(e) => setEditForm({ ...editForm, abstract: e.target.value })}\r\n                          rows={6}\r\n                          className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Upload Revised Version</label>\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\".pdf,.doc,.docx\"\r\n                          onChange={(e) => {\r\n                            const file = e.target.files?.[0]\r\n                            if (file) setEditForm({ ...editForm, file })\r\n                          }}\r\n                          className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex justify-end space-x-2 pt-4\">\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => setEditingPaper(null)}\r\n                          className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\r\n                        >\r\n                          Save Changes\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {selectedPaper && (\r\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n                <div className=\"p-6 border-b dark:border-gray-700\">\r\n                  <h2 className=\"text-xl font-semibold text-red-600\">Review: {selectedPaper.title}</h2>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">Author: {selectedPaper.author_name || 'Unknown'}</p>\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  {selectedPaper.abstract && (\r\n                    <div className=\"mb-6\">\r\n                      <h3 className=\"font-medium text-gray-900 dark:text-white mb-2\">Abstract</h3>\r\n                      <p className=\"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 p-3 rounded\">{selectedPaper.abstract}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  <form onSubmit={handleSubmitReview} className=\"space-y-4\">\r\n                    <div>\r\n                      <label htmlFor=\"rating\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Rating (1-5)\r\n                      </label>\r\n                      <select\r\n                        id=\"rating\"\r\n                        value={reviewData.rating}\r\n                        onChange={(e) => setReviewData({ ...reviewData, rating: parseInt(e.target.value) })}\r\n                        className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                      >\r\n                        {[1, 2, 3, 4, 5].map(num => (\r\n                          <option key={num} value={num}>{num}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label htmlFor=\"recommendation\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Recommendation\r\n                      </label>\r\n                      <select\r\n                        id=\"recommendation\"\r\n                        value={reviewData.recommendation}\r\n                        onChange={(e) => setReviewData({ ...reviewData, recommendation: e.target.value as any })}\r\n                        className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                      >\r\n                        <option value=\"accept\">Recommend Acceptance</option>\r\n                        <option value=\"minor_revision\">Minor Revision</option>\r\n                        <option value=\"major_revision\">Major Revision</option>\r\n                        <option value=\"reject\">Recommend Rejection</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label htmlFor=\"comments\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                        Comments\r\n                      </label>\r\n                      <textarea\r\n                        id=\"comments\"\r\n                        className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md min-h-[120px] focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                        value={reviewData.comments}\r\n                        onChange={(e) => setReviewData({ ...reviewData, comments: e.target.value })}\r\n                        placeholder=\"Provide detailed feedback...\"\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\"\r\n                      >\r\n                        Submit Review\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setSelectedPaper(null)}\r\n                        className=\"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Feedback for Author Section */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600 flex items-center\">\r\n                  <MessageSquare className=\"w-5 h-5 mr-2\" />\r\n                  Send Feedback to Author\r\n                </h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <form onSubmit={sendFeedbackToAuthor} className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Select Paper\r\n                    </label>\r\n                    <select\r\n                      value={feedbackForm.paperId}\r\n                      onChange={(e) => setFeedbackForm({ ...feedbackForm, paperId: e.target.value })}\r\n                      className=\"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Choose a paper...</option>\r\n                      {papers.map(paper => (\r\n                        <option key={paper.id} value={paper.id}>\r\n                          {paper.title}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Feedback Message\r\n                    </label>\r\n                    <textarea\r\n                      value={feedbackForm.message}\r\n                      onChange={(e) => setFeedbackForm({ ...feedbackForm, message: e.target.value })}\r\n                      rows={4}\r\n                      className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                      placeholder=\"Enter your feedback for the author...\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center\"\r\n                  >\r\n                    <Send className=\"w-4 h-4 mr-2\" />\r\n                    Send Feedback\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contact Admin Section */}\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <div className=\"p-6 border-b dark:border-gray-700\">\r\n                <h2 className=\"text-xl font-semibold text-red-600 flex items-center\">\r\n                  <MessageSquare className=\"w-5 h-5 mr-2\" />\r\n                  Contact Admin\r\n                </h2>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <form onSubmit={contactAdmin} className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Select Paper (Optional)\r\n                    </label>\r\n                    <select\r\n                      value={adminContactForm.paperId}\r\n                      onChange={(e) => setAdminContactForm({ ...adminContactForm, paperId: e.target.value })}\r\n                      className=\"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                    >\r\n                      <option value=\"\">General message (no specific paper)</option>\r\n                      {papers.map(paper => (\r\n                        <option key={paper.id} value={paper.id}>\r\n                          {paper.title}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                      Message to Admin\r\n                    </label>\r\n                    <textarea\r\n                      value={adminContactForm.message}\r\n                      onChange={(e) => setAdminContactForm({ ...adminContactForm, message: e.target.value })}\r\n                      rows={4}\r\n                      className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md\"\r\n                      placeholder=\"Enter your message to the admin...\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors flex items-center justify-center\"\r\n                  >\r\n                    <Send className=\"w-4 h-4 mr-2\" />\r\n                    Send to Admin\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2701, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/CoordinatorDashboard.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { Calendar } from 'lucide-react'\r\nimport { User, Event, getEvents, createEvent, updateEvent, deleteEvent } from '@/lib/api'\r\nimport Header from './Header'\r\n\r\ninterface CoordinatorDashboardProps {\r\n  user: User\r\n  onLogout: () => void\r\n}\r\n\r\nexport default function CoordinatorDashboard({ user, onLogout }: CoordinatorDashboardProps) {\r\n  const [events, setEvents] = useState<Event[]>([])\r\n  const [showEventForm, setShowEventForm] = useState(false)\r\n  const [editingEvent, setEditingEvent] = useState<Event | null>(null)\r\n  const [newEvent, setNewEvent] = useState({ title: '', description: '', date: '', location: '' })\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchEvents = useCallback(async () => {\r\n    try {\r\n      const result = await getEvents()\r\n      if (result.success && result.data) {\r\n        // Filter events for current coordinator\r\n        const coordinatorEvents = result.data.filter((event: Event) =>\r\n          event.coordinator_id === user.id\r\n        )\r\n        setEvents(coordinatorEvents)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch events:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [user.id])\r\n\r\n  useEffect(() => {\r\n    fetchEvents()\r\n  }, [fetchEvents])\r\n\r\n  const handleCreateEvent = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (newEvent.title && newEvent.date) {\r\n      try {\r\n        const eventData = {\r\n          title: newEvent.title,\r\n          description: newEvent.description,\r\n          date: newEvent.date,\r\n          location: newEvent.location,\r\n          coordinator_id: user.id\r\n        }\r\n\r\n        const result = await createEvent(eventData)\r\n        if (result.success && result.data) {\r\n          setEvents([result.data, ...events])\r\n          setNewEvent({ title: '', description: '', date: '', location: '' })\r\n          setShowEventForm(false)\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to create event:', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleUpdateEvent = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (editingEvent && newEvent.title && newEvent.date) {\r\n      try {\r\n        const result = await updateEvent(editingEvent.id, {\r\n          title: newEvent.title,\r\n          description: newEvent.description,\r\n          date: newEvent.date,\r\n          location: newEvent.location\r\n        })\r\n\r\n        if (result.success && result.data) {\r\n          setEvents(events.map(event =>\r\n            event.id === editingEvent.id ? result.data! : event\r\n          ))\r\n          setEditingEvent(null)\r\n          setNewEvent({ title: '', description: '', date: '', location: '' })\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to update event:', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDeleteEvent = async (eventId: string) => {\r\n    try {\r\n      const result = await deleteEvent(eventId)\r\n      if (result.success) {\r\n        setEvents(events.filter(event => event.id !== eventId))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to delete event:', error)\r\n    }\r\n  }\r\n\r\n  const startEditEvent = (event: Event) => {\r\n    setEditingEvent(event)\r\n    setNewEvent({\r\n      title: event.title,\r\n      description: event.description || '',\r\n      date: event.date,\r\n      location: event.location || ''\r\n    })\r\n    setShowEventForm(true)\r\n  }\r\n\r\n  const cancelForm = () => {\r\n    setShowEventForm(false)\r\n    setEditingEvent(null)\r\n    setNewEvent({ title: '', description: '', date: '', location: '' })\r\n  }\r\n\r\n  const getEventStatus = (eventDate: string) => {\r\n    const today = new Date()\r\n    const event = new Date(eventDate)\r\n\r\n    if (event < today) return 'past'\r\n    if (event.toDateString() === today.toDateString()) return 'today'\r\n    return 'upcoming'\r\n  }\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'past': return 'bg-gray-100 text-gray-800'\r\n      case 'today': return 'bg-green-100 text-green-800'\r\n      case 'upcoming': return 'bg-blue-100 text-blue-800'\r\n      default: return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    })\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">Loading events...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <Header user={user} title=\"Coordinator Dashboard\" onLogout={onLogout} />\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n          <div className=\"p-6 border-b dark:border-gray-700 flex justify-between items-center\">\r\n            <h2 className=\"text-xl font-semibold text-red-600\">Events</h2>\r\n            <button\r\n              onClick={() => setShowEventForm(true)}\r\n              className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\"\r\n            >\r\n              Create Event\r\n            </button>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            {events.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <Calendar className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                <p className=\"text-gray-600 dark:text-gray-400\">No events created yet</p>\r\n                <button\r\n                  onClick={() => setShowEventForm(true)}\r\n                  className=\"mt-4 text-red-600 hover:text-red-700 font-medium\"\r\n                >\r\n                  Create your first event\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {events.map(event => {\r\n                  const status = getEventStatus(event.date)\r\n                  return (\r\n                    <div key={event.id} className=\"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors\">\r\n                      <div className=\"flex justify-between items-start mb-3\">\r\n                        <h3 className=\"font-semibold text-lg dark:text-white\">{event.title}</h3>\r\n                        <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(status)}`}>\r\n                          {status}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"text-sm text-gray-600 dark:text-gray-400 space-y-2 mb-3\">\r\n                        <p className=\"flex items-center\">\r\n                          <Calendar className=\"w-4 h-4 mr-2\" />\r\n                          {formatDate(event.date)}\r\n                        </p>\r\n                        {event.location && (\r\n                          <p className=\"flex items-center\">\r\n                            <span className=\"w-4 h-4 mr-2\"></span>\r\n                            {event.location}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n\r\n                      {event.description && (\r\n                        <p className=\"text-sm text-gray-700 dark:text-gray-300 mb-3 line-clamp-3\">{event.description}</p>\r\n                      )}\r\n\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          onClick={() => startEditEvent(event)}\r\n                          className=\"text-sm border border-gray-300 dark:border-gray-600 px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300 transition-colors\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteEvent(event.id)}\r\n                          className=\"text-sm border border-red-300 text-red-600 px-3 py-1 rounded-md hover:bg-red-50 transition-colors\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {showEventForm && (\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n            <div className=\"p-6 border-b dark:border-gray-700\">\r\n              <h2 className=\"text-xl font-semibold text-red-600\">\r\n                {editingEvent ? 'Edit Event' : 'Create New Event'}\r\n              </h2>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <form onSubmit={editingEvent ? handleUpdateEvent : handleCreateEvent} className=\"space-y-4\">\r\n                <div>\r\n                  <label htmlFor=\"eventTitle\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Event Title\r\n                  </label>\r\n                  <input\r\n                    id=\"eventTitle\"\r\n                    type=\"text\"\r\n                    value={newEvent.title}\r\n                    onChange={(e) => setNewEvent({ ...newEvent, title: e.target.value })}\r\n                    placeholder=\"Enter event title\"\r\n                    className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"eventDate\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Date & Time\r\n                  </label>\r\n                  <input\r\n                    id=\"eventDate\"\r\n                    type=\"datetime-local\"\r\n                    value={newEvent.date}\r\n                    onChange={(e) => setNewEvent({ ...newEvent, date: e.target.value })}\r\n                    className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"eventLocation\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Location\r\n                  </label>\r\n                  <input\r\n                    id=\"eventLocation\"\r\n                    type=\"text\"\r\n                    value={newEvent.location}\r\n                    onChange={(e) => setNewEvent({ ...newEvent, location: e.target.value })}\r\n                    placeholder=\"Enter event location\"\r\n                    className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"eventDescription\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    id=\"eventDescription\"\r\n                    value={newEvent.description}\r\n                    onChange={(e) => setNewEvent({ ...newEvent, description: e.target.value })}\r\n                    placeholder=\"Enter event description\"\r\n                    rows={4}\r\n                    className=\"w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\"\r\n                  >\r\n                    {editingEvent ? 'Update Event' : 'Create Event'}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={cancelForm}\r\n                    className=\"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/components/LoginPage.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { BookOpen } from 'lucide-react'\r\n\r\ninterface LoginPageProps {\r\n  onLogin: (email: string, password: string, selectedRole: string) => Promise<{ success: boolean; error?: string }>\r\n}\r\n\r\nexport default function LoginPage({ onLogin }: LoginPageProps) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [selectedRole, setSelectedRole] = useState('')\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError('')\r\n    setLoading(true)\r\n\r\n    if (!email || !password || !selectedRole) {\r\n      setError('Please fill in all fields')\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      const result = await onLogin(email, password, selectedRole)\r\n      if (!result.success) {\r\n        setError(result.error || 'Login failed')\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 to-yellow-50 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md bg-white rounded-lg shadow-lg\">\r\n        <div className=\"text-center p-6 border-b\">\r\n          <div className=\"mx-auto mb-4 w-16 h-16 bg-red-600 rounded-full flex items-center justify-center\">\r\n            <BookOpen className=\"w-8 h-8 text-white\" />\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-red-600\">RPMS Login</h1>\r\n          <p className=\"text-gray-600\">Research and Publication Management System</p>\r\n          <p className=\"text-sm text-gray-600\">Saint Mary&apos;s University</p>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"role\" className=\"block text-sm font-medium text-gray-700\">\r\n                Select Role\r\n              </label>\r\n              <select\r\n                id=\"role\"\r\n                value={selectedRole}\r\n                onChange={(e) => setSelectedRole(e.target.value)}\r\n                className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n              >\r\n                <option value=\"\">Choose your role</option>\r\n                <option value=\"author\">Author</option>\r\n                <option value=\"editor\">Editor</option>\r\n                <option value=\"admin\">Admin</option>\r\n                <option value=\"coordinator\">Event Coordinator</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                Email\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Enter your email\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"Enter your password\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500\"\r\n              />\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\r\n                <p className=\"text-red-600 text-sm\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-red-600 text-white py-3 px-4 rounded-md hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors\"\r\n            >\r\n              Login\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n            <h4 className=\"font-semibold text-yellow-800 mb-2\">Demo Credentials:</h4>\r\n            <div className=\"text-sm text-yellow-700 space-y-1\">\r\n              <p> author@smu.edu (Author)</p>\r\n              <p> editor@smu.edu (Editor)</p>\r\n              <p> admin@smu.edu (Admin)</p>\r\n              <p> coordinator@smu.edu (Event Coordinator)</p>\r\n              <p className=\"font-medium\">Password: password123</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3684, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lenovo/AndroidStudioProjects/OnlineClothingStoreApp/RPMS/app/page.tsx"],"sourcesContent":["\r\n'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { getCurrentUser, User } from '@/lib/api'\r\nimport PublicHeader from '@/components/PublicHeader'\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ArrowRight, FileText, CheckCircle, Users, Send } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport AdminPanel from '@/components/AdminPanel'\r\nimport EditorPanel from '@/components/EditorPanel'\r\nimport AuthorDashboard from '@/components/AuthorDashboard'\r\nimport CoordinatorDashboard from '@/components/CoordinatorDashboard'\r\nimport LoginPage from '@/components/LoginPage'\r\n\r\nexport default function Home() {\r\n  const router = useRouter()\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [portal, setPortal] = useState<string>('author') // Default to author if not set\r\n\r\n  useEffect(() => {\r\n    // Determine portal from env\r\n    const currentPortal = process.env.NEXT_PUBLIC_PORTAL || 'author'\r\n    setPortal(currentPortal)\r\n\r\n    async function checkAuth() {\r\n      const currentUser = await getCurrentUser()\r\n      if (currentUser) {\r\n        setUser(currentUser)\r\n\r\n        // Portal Redirection Logic\r\n        if (currentPortal === 'author') {\r\n          // Author Portal (Port 3000)\r\n          // If user is staff, redirect to Staff Portal (Port 3001)\r\n          if (['admin', 'editor', 'coordinator'].includes(currentUser.role)) {\r\n            window.location.href = 'http://localhost:3001'\r\n          }\r\n        } else if (currentPortal === 'staff') {\r\n          // Staff Portal (Port 3001)\r\n          // If user is author, redirect to Author Portal (Port 3000)\r\n          if (currentUser.role === 'author') {\r\n            window.location.href = 'http://localhost:3000'\r\n          }\r\n        }\r\n      }\r\n      setLoading(false)\r\n    }\r\n    checkAuth()\r\n  }, [router])\r\n\r\n  if (loading) {\r\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>\r\n  }\r\n\r\n  // RENDER LOGIC\r\n\r\n  // STAFF PORTAL (Port 3001)\r\n  if (portal === 'staff') {\r\n    if (!user) {\r\n      return <LoginPage onLogin={setUser} />\r\n    }\r\n    // If logged in (and not redirected), show dashboard\r\n    return (\r\n      <main className=\"min-h-screen bg-gray-100 dark:bg-gray-900\">\r\n        {user.role === 'admin' && <AdminPanel user={user} />}\r\n        {user.role === 'editor' && <EditorPanel user={user} />}\r\n        {user.role === 'coordinator' && <CoordinatorDashboard user={user} />}\r\n        {/* Author dashboard shouldn't be reached here due to redirect, but fallback just in case */}\r\n        {user.role === 'author' && <div className=\"p-8 text-center\">Redirecting to Author Portal...</div>}\r\n      </main>\r\n    )\r\n  }\r\n\r\n  // AUTHOR PORTAL (Port 3000) - Default\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      <PublicHeader />\r\n\r\n      {/* Hero Section */}\r\n      <section className=\"bg-white dark:bg-gray-800 py-20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <h1 className=\"text-4xl md:text-6xl font-extrabold text-gray-900 dark:text-white tracking-tight mb-6\">\r\n            Research Paper Management System\r\n          </h1>\r\n          <p className=\"text-xl text-gray-500 dark:text-gray-300 max-w-3xl mx-auto mb-10\">\r\n            Streamline your academic publishing workflow. Submit, review, and publish research papers with ease and efficiency.\r\n          </p>\r\n          <div className=\"flex justify-center space-x-4\">\r\n            <Link href=\"/submit\">\r\n              <Button size=\"lg\" className=\"px-8 py-6 text-lg\">\r\n                Submit Your Paper <ArrowRight className=\"ml-2 h-5 w-5\" />\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/#about\">\r\n              <Button variant=\"outline\" size=\"lg\" className=\"px-8 py-6 text-lg\">\r\n                Learn More\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features / Onboarding Section */}\r\n      <section id=\"about\" className=\"py-20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center mb-16\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white\">How It Works</h2>\r\n            <p className=\"mt-4 text-lg text-gray-500 dark:text-gray-400\">Simple steps to get your research published.</p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-10\">\r\n            <div className=\"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-sm hover:shadow-md transition-shadow\">\r\n              <div className=\"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mb-6\">\r\n                <FileText className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">1. Submit Paper</h3>\r\n              <p className=\"text-gray-500 dark:text-gray-400\">\r\n                Upload your manuscript in various formats. Choose from Research, Thesis, or Review paper types.\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-sm hover:shadow-md transition-shadow\">\r\n              <div className=\"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mb-6\">\r\n                <Users className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">2. Peer Review</h3>\r\n              <p className=\"text-gray-500 dark:text-gray-400\">\r\n                Expert reviewers analyze your work and provide constructive feedback to improve quality.\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-sm hover:shadow-md transition-shadow\">\r\n              <div className=\"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mb-6\">\r\n                <CheckCircle className=\"h-6 w-6 text-purple-600 dark:text-purple-400\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">3. Publication</h3>\r\n              <p className=\"text-gray-500 dark:text-gray-400\">\r\n                Once approved, your paper is published and made available to the academic community.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Contact Section */}\r\n      <section id=\"contact\" className=\"bg-white dark:bg-gray-800 py-20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-16 items-center\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-6\">Get in Touch</h2>\r\n              <p className=\"text-lg text-gray-500 dark:text-gray-400 mb-8\">\r\n                Have questions about the submission process or need technical support? Our team is here to help.\r\n              </p>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center text-gray-600 dark:text-gray-300\">\r\n                  <span className=\"font-semibold w-24\">Email:</span>\r\n                  <span>support@rpms.edu</span>\r\n                </div>\r\n                <div className=\"flex items-center text-gray-600 dark:text-gray-300\">\r\n                  <span className=\"font-semibold w-24\">Phone:</span>\r\n                  <span>+1 (555) 123-4567</span>\r\n                </div>\r\n                <div className=\"flex items-center text-gray-600 dark:text-gray-300\">\r\n                  <span className=\"font-semibold w-24\">Address:</span>\r\n                  <span>123 University Ave, Academic City</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-gray-50 dark:bg-gray-900 p-8 rounded-xl\">\r\n              <form className=\"space-y-6\">\r\n                <div>\r\n                  <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name</label>\r\n                  <input type=\"text\" id=\"name\" className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700\" />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email</label>\r\n                  <input type=\"email\" id=\"email\" className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700\" />\r\n                </div>\r\n                <div>\r\n                  <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Message</label>\r\n                  <textarea id=\"message\" rows={4} className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700\"></textarea>\r\n                </div>\r\n                <Button className=\"w-full\">\r\n                  Send Message <Send className=\"ml-2 h-4 w-4\" />\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-gray-900 text-white py-12\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <p className=\"text-gray-400\">&copy; 2024 Research Paper Management System. All rights reserved.</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}